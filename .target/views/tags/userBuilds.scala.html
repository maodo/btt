@(userBuilds: List[UserBuild], messageHeader: String, showUserName: Boolean, isCurrentUser: Boolean = false)

<h3>@Messages(messageHeader) @totalTimeUserBuilds(userBuilds)</h3>

@if(userBuilds.isEmpty) {
<p>@Messages("builds.listEmpty")</p>
} else {
	@userBuilds.groupBy(_.user).map { user =>

		@if(showUserName) {
		<h3>@user._1.name.toUpperCase @totalTimeUserBuilds(user._2)</h3>
		}

		@** Move this in a specific class **@
		@user._2.groupBy(_.build.duration <= 0).toSeq.sortBy(_._1 == false).map {
			case (true, activeUserBuilds) => {
				@userBuildsActive(activeUserBuilds, isCurrentUser)
			}
			case (false, endedUserBuilds) => {
				@userBuildsEnded(endedUserBuilds)
			}
		}
	}
}